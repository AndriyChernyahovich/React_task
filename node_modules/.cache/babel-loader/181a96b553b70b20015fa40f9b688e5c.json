{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\React_task\\\\my-app\\\\src\\\\components\\\\AddFavourites.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddFavourites = _ref => {\n  _s();\n\n  let {\n    film\n  } = _ref;\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    const test = JSON.parse(localStorage.getItem('allEntries'));\n    setMovies(test);\n  }, []);\n\n  function removeFav(item) {\n    // let del = movies.filter(elem => elem.id !== elem.id)\n    //    console.log(del)\n    let localArray = JSON.parse(localStorage.getItem('allEntries')); // for(let i=0; i < localArray.length; i++){\n    //     if(localArray[i].id === item.id){\n    //         localArray.splice(i,1)\n    //     }\n    // }\n\n    const filterArr = localArray.filter(movie => item.id !== movie.id);\n    console.log(filterArr);\n    localStorage.setItem(\"allEntries\", JSON.stringify(filterArr));\n    setMovies(filterArr);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movie-container\",\n    children: movies.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"image-container movie overlay\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `https://image.tmdb.org/t/p/w500/${item === null || item === void 0 ? void 0 : item.poster_path}`,\n        className: \"card-img\",\n        alt: \"...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: item === null || item === void 0 ? void 0 : item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: item === null || item === void 0 ? void 0 : item.vote_average\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"over\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: item === null || item === void 0 ? void 0 : item.overview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"link\",\n          type: \"button\",\n          onClick: () => {\n            removeFav(item);\n          },\n          children: \"Unfavourite\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 18\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 14\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 6\n  }, this);\n};\n\n_s(AddFavourites, \"MO6b3PSP3RIUqZ8gtSrBZBVtBbs=\");\n\n_c = AddFavourites;\nexport default AddFavourites;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddFavourites\");","map":{"version":3,"sources":["C:/Users/Admin/Desktop/React_task/my-app/src/components/AddFavourites.js"],"names":["React","useEffect","useState","AddFavourites","film","movies","setMovies","test","JSON","parse","localStorage","getItem","removeFav","item","localArray","filterArr","filter","movie","id","console","log","setItem","stringify","map","i","poster_path","title","vote_average","overview"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;;;AAEC,MAAMC,aAAa,GAAG,QAAW;AAAA;;AAAA,MAAV;AAACC,IAAAA;AAAD,GAAU;AAC7B,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBJ,QAAQ,CAAC,EAAD,CAApC;AAGAD,EAAAA,SAAS,CAAC,MAAK;AACX,UAAMM,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAb;AACAL,IAAAA,SAAS,CAACC,IAAD,CAAT;AACH,GAHQ,EAGN,EAHM,CAAT;;AAKD,WAASK,SAAT,CAAoBC,IAApB,EAA0B;AACzB;AACA;AACG,QAAIC,UAAU,GAAGN,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAX,CAAjB,CAHsB,CAKvB;AACA;AACA;AACA;AACA;;AAEA,UAAMI,SAAS,GAAGD,UAAU,CAACE,MAAX,CAAkBC,KAAK,IAAIJ,IAAI,CAACK,EAAL,KAAWD,KAAK,CAACC,EAA5C,CAAlB;AACCC,IAAAA,OAAO,CAACC,GAAR,CAAYL,SAAZ;AACAL,IAAAA,YAAY,CAACW,OAAb,CAAqB,YAArB,EAAmCb,IAAI,CAACc,SAAL,CAAeP,SAAf,CAAnC;AACDT,IAAAA,SAAS,CAACS,SAAD,CAAT;AACD;;AAEN,sBACK;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA,cACKV,MAAM,CAACkB,GAAP,CAAW,CAACV,IAAD,EAAOW,CAAP,kBACR;AAAK,MAAA,SAAS,EAAC,+BAAf;AAAA,8BACI;AAAK,QAAA,GAAG,EAAG,mCAAkCX,IAAnC,aAAmCA,IAAnC,uBAAmCA,IAAI,CAAEY,WAAY,EAA/D;AAAkE,QAAA,SAAS,EAAC,UAA5E;AAAuF,QAAA,GAAG,EAAC;AAA3F;AAAA;AAAA;AAAA;AAAA,cADJ,eAGI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gCACI;AAAA,oBAAKZ,IAAL,aAAKA,IAAL,uBAAKA,IAAI,CAAEa;AAAX;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA,oBACLb,IADK,aACLA,IADK,uBACLA,IAAI,CAAEc;AADD;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eASI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA,gCACI;AAAA,oBAAId,IAAJ,aAAIA,IAAJ,uBAAIA,IAAI,CAAEe;AAAV;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,UAAA,SAAS,EAAC,MAAlB;AAAyB,UAAA,IAAI,EAAC,QAA9B;AAAuC,UAAA,OAAO,EAAE,MAAI;AAAChB,YAAAA,SAAS,CAACC,IAAD,CAAT;AAAgB,WAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA,OAAoDW,CAApD;AAAA;AAAA;AAAA;AAAA,YADH;AADL;AAAA;AAAA;AAAA;AAAA,UADL;AAuBE,CAjDD;;GAAMrB,a;;KAAAA,a;AAmDN,eAAeA,aAAf","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\n\r\n const AddFavourites = ({film}) =>{\r\n     const [movies, setMovies] = useState([])\r\n\r\n\r\n     useEffect(()=> {\r\n         const test = JSON.parse(localStorage.getItem('allEntries'))\r\n         setMovies(test)\r\n     }, [])\r\n\r\n    function removeFav (item) {\r\n     // let del = movies.filter(elem => elem.id !== elem.id)\r\n     //    console.log(del)\r\n        let localArray = JSON.parse(localStorage.getItem('allEntries'))\r\n\r\n       // for(let i=0; i < localArray.length; i++){\r\n       //     if(localArray[i].id === item.id){\r\n       //         localArray.splice(i,1)\r\n       //     }\r\n       // }\r\n\r\n       const filterArr = localArray.filter(movie => item.id !==movie.id)\r\n        console.log(filterArr)\r\n        localStorage.setItem(\"allEntries\", JSON.stringify(filterArr));\r\n       setMovies(filterArr)\r\n     }\r\n\r\nreturn(\r\n     <div className='movie-container'>\r\n         {movies.map((item, i) =>(\r\n             <div className='image-container movie overlay' key={i}>\r\n                 <img src={`https://image.tmdb.org/t/p/w500/${item?.poster_path}`} className='card-img' alt='...'/>\r\n\r\n                 <div className='info'>\r\n                     <h3>{item?.title}</h3>\r\n                     <span>\r\n               {item?.vote_average}\r\n           </span>\r\n                 </div>\r\n                 <div className='over'>\r\n                     <p>{item?.overview}</p>\r\n                     <button className='link' type='button' onClick={()=>{removeFav(item)}}>Unfavourite</button>\r\n                 </div>\r\n\r\n             </div>\r\n         ))}\r\n\r\n      </div>\r\n\r\n)\r\n }\r\n\r\n export default AddFavourites"]},"metadata":{},"sourceType":"module"}